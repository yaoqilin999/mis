"use strict";(self["webpackChunkinfosys"]=self["webpackChunkinfosys"]||[]).push([[667],{667:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var s=t(3396);const n={class:"_iframe"},l=(0,s._)("i",{class:"iconfont icon-shangchuan-1"},null,-1),i=(0,s._)("span",null,"选择图片",-1),o={class:"file-view"};function p(e,a,t,p,u,c){const r=(0,s.up)("el-button"),d=(0,s.up)("el-upload"),f=(0,s.up)("UpFileList");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(d,{ref:"upload1",accept:"image/*",action:"#",class:"uploader",disabled:p.upLoading,"show-file-list":!1,"http-request":p.handleUpload},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"primary",plain:""},{default:(0,s.w5)((()=>[l,i])),_:1})])),_:1},8,["disabled","http-request"]),(0,s._)("div",o,[(0,s.Wm)(f,{type:"img",list:p.accessList,loading:p.upLoading,onRemove:p.removeAccess},null,8,["list","loading","onRemove"])])])}var u=t(4870),c={setup(){const{appContext:e}=(0,s.FN)(),a=e.app.config.globalProperties,t=(0,u.qj)([]),n=e=>{t.splice(e,1)},l=(0,u.iH)(null),i=(0,u.iH)(!1),o=e=>{const s=e.file,n=10485760;if(s.size>n)return a.$message.warning("文件不能大于10MB！"),!1;const o=new FormData;o.append("file",s);let p="https://jsonplaceholder.typicode.com/posts/";i.value=!0,a.$http.post(p,o,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4}).then((e=>{i.value=!1})).catch((e=>{i.value=!1,e.data.id&&t.push({url:"",name:s.name})})),l.value.clearFiles()};return{accessList:t,removeAccess:n,upload1:l,upLoading:i,handleUpload:o}}},r=t(89);const d=(0,r.Z)(c,[["render",p]]);var f=d}}]);