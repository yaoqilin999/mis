"use strict";(self["webpackChunkxinxi"]=self["webpackChunkxinxi"]||[]).push([[859],{7859:function(e,a,t){t.r(a),t.d(a,{default:function(){return r}});var l=t(3396),n=t(4870);const i=e=>((0,l.dD)("data-v-2758a778"),e=e(),(0,l.Cn)(),e),u={class:"_iframe"},s=i((()=>(0,l._)("span",null,"选择文件",-1))),o={class:"file-view"};var p={__name:"upload",setup(e){const{appContext:a}=(0,l.FN)(),t=a.app.config.globalProperties,i=(0,n.iH)([]);function p(e){i.value.splice(e,1)}const c=(0,n.iH)(null),d=(0,n.iH)(!1);function r(e){let a=e.file,l=10485760;if(a.size>l)return t.$message.warning("文件不能大于10MB！"),!1;let n=new FormData;n.append("file",a);let u="https://jsonplaceholder.typicode.com/posts/";d.value=!0,t.$http.post(u,n,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4}).then((e=>{d.value=!1})).catch((e=>{d.value=!1,e.data.id&&i.value.push({url:"https://i02piccdn.sogoucdn.com/347a18ff60a3c927",name:a.name})})),c.value.clearFiles()}return(e,a)=>{const t=(0,l.up)("IconUpload"),n=(0,l.up)("el-icon"),f=(0,l.up)("el-button"),m=(0,l.up)("el-upload"),v=(0,l.up)("UpFileList");return(0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(m,{ref_key:"upload1",ref:c,action:"#",class:"uploader",disabled:d.value,"show-file-list":!1,"http-request":r},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{type:"primary",plain:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(t)])),_:1}),s])),_:1})])),_:1},8,["disabled"]),(0,l._)("div",o,[(0,l.Wm)(v,{type:"img",list:i.value,loading:d.value,onRemove:p},null,8,["list","loading"])])])}}},c=t(89);const d=(0,c.Z)(p,[["__scopeId","data-v-2758a778"]]);var r=d}}]);